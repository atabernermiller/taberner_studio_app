option_settings:
  # Load balancer configuration for HTTPS
  aws:elasticbeanstalk:environment:
    LoadBalancerType: application
    ServiceRole: aws-elasticbeanstalk-service-role
  
  # Process configuration
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /
    Port: 80
    Protocol: HTTP
  
  # Load balancer listeners
  aws:elasticbeanstalk:environment:loadbalancer:
    Listeners: 80, 443
    InstancePort: 80
    InstanceProtocol: HTTP
    SSLCertificateArns: arn:aws:acm:us-east-1:672104585346:certificate/YOUR-CERTIFICATE-ID
  
  # HTTPS listener configuration
  aws:elasticbeanstalk:environment:loadbalancer:listener:443:
    ListenerEnabled: true
    Protocol: HTTPS
    SSLCertificateArns: arn:aws:acm:us-east-1:672104585346:certificate/YOUR-CERTIFICATE-ID
  
  # HTTP to HTTPS redirect
  aws:elasticbeanstalk:environment:loadbalancer:listener:80:
    ListenerEnabled: true
    Protocol: HTTP
    Rules: redirect-http-to-https
  
  # Redirect rule
  aws:elasticbeanstalk:environment:loadbalancer:listenerrule:redirect-http-to-https:
    Path: /*
    Process: default
    Priority: 1
    Redirect: https://YOUR-APP-NAME.us-east-1.elasticbeanstalk.com 